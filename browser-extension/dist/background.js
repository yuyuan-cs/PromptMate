console.log("PromptMate 背景脚本已启动"),chrome.runtime.onInstalled.addListener(()=>{console.log("PromptMate 扩展已安装"),chrome.contextMenus.create({id:"promptmate-main",title:"PromptMate",contexts:["all"]})}),chrome.action.onClicked.addListener(e=>{console.log("工具栏图标被点击，打开侧边栏"),e.id&&chrome.sidePanel.open({tabId:e.id})}),chrome.contextMenus.onClicked.addListener((e,o)=>{console.log("右键菜单被点击:",e),"promptmate-main"===e.menuItemId&&o?.id&&chrome.sidePanel.open({tabId:o.id})}),chrome.commands.onCommand.addListener(e=>{"open-promptmate"===e&&(console.log("快捷键触发，打开侧边栏"),chrome.tabs.query({active:!0,currentWindow:!0},e=>{e[0]?.id&&chrome.sidePanel.open({tabId:e[0].id})}))}),chrome.runtime.onMessage.addListener((e,o,n)=>{console.log("收到消息:",e),n({success:!0,message:"PromptMate 演示版本"})});