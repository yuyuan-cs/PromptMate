# **PromptMate MCP é›†æˆä¸åŠ¨æ€æ­å»ºåŠŸèƒ½å¼€å‘æ–‡æ¡£**

**æ–‡æ¡£ç‰ˆæœ¬:** 1.0  
**æ›´æ–°æ—¥æœŸ:** 2025å¹´9æœˆ28æ—¥  
**ä½œè€…:** Sean (deepractice.ai)  

---

## **1. é¡¹ç›®æ¦‚è¿°**

### **1.1 å¼€å‘ç›®æ ‡**

åŸºäº **PRD æ–‡æ¡£çš„æˆ˜ç•¥è§„åˆ’**ï¼Œåœ¨ä¿æŒ PromptMate ç°æœ‰åŠŸèƒ½å®Œå…¨ä¸å˜çš„å‰æä¸‹ï¼Œå®ç°å‘ **AI ä¸“ä¸šèƒ½åŠ›å¢å¼ºå¹³å°** çš„å‡çº§ï¼š

**æ ¸å¿ƒä»·å€¼ä¸»å¼ è½¬å˜:**
- **ä»** æç¤ºè¯å­˜å‚¨ç®¡ç† **åˆ°** AI ä¸“ä¸šè§’è‰²å¹³å°
- **ä»** é™æ€æ¨¡æ¿å¤ç”¨ **åˆ°** åŠ¨æ€è®¤çŸ¥å¢å¼º  
- **ä»** ä¸ªäººæ•ˆç‡å·¥å…· **åˆ°** ä¼ä¸šçº§ AI èƒ½åŠ›ä¸­å°

**å…·ä½“åŠŸèƒ½æ‰©å±•:**
- ğŸ­ **ä¸€é”®æ¿€æ´»ä¸“ä¸šè§’è‰²**: ä»äº§å“ç»ç†åˆ°æ¶æ„å¸ˆï¼Œ23+ é¢„ç½®ä¸“ä¸šèº«ä»½
- ğŸ§  **æ™ºèƒ½è®¤çŸ¥è®°å¿†**: recall-remember å¾ªç¯ï¼ŒAI å…·å¤‡å­¦ä¹ å’Œè®°å¿†èƒ½åŠ›
- ğŸ”— **MCP ç”Ÿæ€é›†æˆ**: ä¸ Claudeã€Cursor ç­‰ä¸»æµ AI å·¥å…·æ·±åº¦æ•´åˆ
- ğŸ¢ **ä¼ä¸šçº§èƒ½åŠ›**: æ”¯æŒå›¢é˜Ÿåä½œã€çŸ¥è¯†æ²‰æ·€ã€æ ‡å‡†åŒ–ç®¡ç†
- ğŸŒ **ç”Ÿæ€åŒ–æ‰©å±•**: æ”¯æŒç¬¬ä¸‰æ–¹è§’è‰²å’Œå·¥å…·é›†æˆ

**ç”¨æˆ·ä»·å€¼ä¸»å¼ :**
- ğŸš€ **10å€æ•ˆç‡æå‡**: ä¸€å¥è¯æ¿€æ´»ä¸“ä¸šè§’è‰²ï¼Œæ— éœ€å¤æ‚æç¤ºè¯
- ğŸ¯ **ä¸“ä¸šèƒ½åŠ›ä¿è¯**: åŸºäºè¡Œä¸šæœ€ä½³å®è·µçš„è§’è‰²å®šä¹‰
- ğŸ”„ **æŒç»­å­¦ä¹ ä¼˜åŒ–**: AI è®°å¿†ç³»ç»Ÿä¸æ–­ç§¯ç´¯ç»éªŒ
- ğŸŒ **ç”Ÿæ€æ— ç¼é›†æˆ**: åœ¨ä»»ä½•æ”¯æŒ MCP çš„å·¥å…·ä¸­ä½¿ç”¨

### **1.2 ä¸ PRD æ–‡æ¡£çš„å¯¹åº”å…³ç³»**

æœ¬å¼€å‘æ–‡æ¡£æ˜¯ **PRD-PromptMateåŸºäºPromptXé¡¹ç›®çš„å‡çº§è®¡åˆ’-v2.md** çš„æŠ€æœ¯å®æ–½æ–¹æ¡ˆï¼Œç¡®ä¿æˆ˜ç•¥ç›®æ ‡ä¸æŠ€æœ¯å®ç°å®Œå…¨å¯¹é½ï¼š

| PRD æˆ˜ç•¥ç›®æ ‡ | å¼€å‘æ–‡æ¡£æŠ€æœ¯å®ç° | å¯¹åº”ç« èŠ‚ |
|-------------|-----------------|----------|
| **AI ä¸“ä¸šè§’è‰²å¹³å°** | è‡ªç„¶å¯¹è¯æ¿€æ´»è§’è‰²ç³»ç»Ÿ | ç¬¬3.1èŠ‚ |
| **è®¤çŸ¥è®°å¿†ç³»ç»Ÿ** | recall-remember æ™ºèƒ½è®°å¿† | ç¬¬3.2èŠ‚ |
| **MCP ç”Ÿæ€é›†æˆ** | MCP åè®®å®¢æˆ·ç«¯å¼€å‘ | ç¬¬4.1èŠ‚ |
| **23+ ä¸“ä¸šè§’è‰²** | ä¸“ä¸šè§’è‰²åº“ç³»ç»Ÿ | ç¬¬3.3èŠ‚ |
| **ä¼ä¸šçº§èƒ½åŠ›** | å›¢é˜Ÿåä½œå’Œæƒé™ç®¡ç† | ç¬¬5èŠ‚ |
| **10å€æ•ˆç‡æå‡** | å¯¹è¯å¼äº¤äº’ç•Œé¢ | ç¬¬3.1.2èŠ‚ |
| **ç”Ÿæ€æ— ç¼é›†æˆ** | å¤–éƒ¨å·¥å…·é›†æˆæ¥å£ | ç¬¬4.1.3èŠ‚ |

### **1.3 æŠ€æœ¯åŸåˆ™**

- âœ… **å‘ä¸‹å…¼å®¹**: ç°æœ‰åŠŸèƒ½å’Œæ•°æ®æ ¼å¼å®Œå…¨ä¿æŒ
- âœ… **æ¸è¿›å¢å¼º**: æ–°åŠŸèƒ½ä½œä¸ºå¯é€‰æ¨¡å—æ·»åŠ 
- âœ… **æ¨¡å—åŒ–è®¾è®¡**: æ–°åŠŸèƒ½ç‹¬ç«‹æ¨¡å—ï¼Œä¸å½±å“ç°æœ‰ä»£ç 
- âœ… **ç”¨æˆ·é€‰æ‹©**: ç”¨æˆ·å¯é€‰æ‹©æ˜¯å¦å¯ç”¨æ–°åŠŸèƒ½
- âœ… **PRD å¯¹é½**: æ‰€æœ‰æŠ€æœ¯å®ç°ä¸¥æ ¼æŒ‰ç…§ PRD æˆ˜ç•¥ç›®æ ‡æ‰§è¡Œ

---

## **2. æŠ€æœ¯æ¶æ„è®¾è®¡**

### **2.1 æ•´ä½“æ¶æ„**

```
PromptMate ç°æœ‰æ¶æ„
â”œâ”€â”€ ç°æœ‰åŠŸèƒ½å±‚ (ä¿æŒä¸å˜)
â”‚   â”œâ”€â”€ æç¤ºè¯ç®¡ç†
â”‚   â”œâ”€â”€ åˆ†ç±»æ ‡ç­¾ç³»ç»Ÿ
â”‚   â”œâ”€â”€ AI ä¼˜åŒ–åŠŸèƒ½
â”‚   â””â”€â”€ å·¥ä½œæµç¼–è¾‘å™¨
â”‚
â””â”€â”€ PromptX åŠŸèƒ½æ‰©å±•å±‚ (æ¨¡å—åŒ–æ·»åŠ )
    â”œâ”€â”€ è‡ªç„¶å¯¹è¯æ¿€æ´»æ¨¡å—
    â”‚   â”œâ”€â”€ è§’è‰²è¯†åˆ«å¼•æ“
    â”‚   â”œâ”€â”€ æ„å›¾ç†è§£ç³»ç»Ÿ
    â”‚   â””â”€â”€ è§’è‰²æ¿€æ´»æ¥å£
    â”‚
    â”œâ”€â”€ è®¤çŸ¥è®°å¿†ç³»ç»Ÿæ¨¡å—
    â”‚   â”œâ”€â”€ recall è®°å¿†æ£€ç´¢
    â”‚   â”œâ”€â”€ remember è®°å¿†å­˜å‚¨
    â”‚   â””â”€â”€ è®°å¿†ç½‘ç»œç®¡ç†
    â”‚
    â”œâ”€â”€ MCP åè®®é›†æˆæ¨¡å—
    â”‚   â”œâ”€â”€ MCP å®¢æˆ·ç«¯
    â”‚   â”œâ”€â”€ åè®®æ¶ˆæ¯å¤„ç†
    â”‚   â””â”€â”€ å¤–éƒ¨å·¥å…·é›†æˆ
    â”‚
    â””â”€â”€ ä¸“ä¸šè§’è‰²åº“æ¨¡å—
        â”œâ”€â”€ é¢„ç½®è§’è‰²ç®¡ç†
        â”œâ”€â”€ è§’è‰²èƒ½åŠ›å®šä¹‰
        â””â”€â”€ ç¬¬ä¸‰æ–¹è§’è‰²æ‰©å±•
```

### **2.2 MCP æœåŠ¡æ¶æ„**

```typescript
// MCP æœåŠ¡æ¥å£å®šä¹‰
interface MCPService {
  // æœåŠ¡å‘ç°
  discover(): Promise<MCPCapability[]>;
  
  // è§’è‰²æ¿€æ´»
  activateRole(roleId: string, context?: any): Promise<RoleInstance>;
  
  // è®°å¿†æ“ä½œ
  recall(query: string, roleId?: string): Promise<Memory[]>;
  remember(content: string, metadata: MemoryMetadata): Promise<void>;
  
  // å·¥å…·è°ƒç”¨
  invokeTool(toolName: string, params: any): Promise<any>;
}

// MCP é…ç½®
interface MCPConfig {
  enabled: boolean;
  serverUrl: string;
  apiKey?: string;
  capabilities: string[];
}
```

### **2.3 åŠ¨æ€æ­å»ºç³»ç»Ÿæ¶æ„**

```typescript
// ç»„ä»¶å®šä¹‰
interface DynamicComponent {
  id: string;
  type: 'prompt' | 'role' | 'memory' | 'tool';
  config: ComponentConfig;
  connections: Connection[];
}

// æ­å»ºç”»å¸ƒ
interface BuildCanvas {
  components: DynamicComponent[];
  layout: LayoutConfig;
  metadata: CanvasMetadata;
}

// ç»„ä»¶è¿æ¥
interface Connection {
  from: { componentId: string; outputPort: string };
  to: { componentId: string; inputPort: string };
  dataType: string;
}
```

---

## **3. PromptX æ ¸å¿ƒåŠŸèƒ½å®ç°**

### **3.1 è‡ªç„¶å¯¹è¯æ¿€æ´»è§’è‰²ç³»ç»Ÿ**

è¿™æ˜¯ PromptX æœ€æ ¸å¿ƒçš„åŠŸèƒ½ - ç”¨æˆ·å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æ¿€æ´»ä¸“ä¸šè§’è‰²ï¼Œæ— éœ€å¤æ‚çš„æç¤ºè¯ã€‚

#### **3.1.1 å¯¹è¯ç†è§£å¼•æ“**

```typescript
// src/services/promptx/DialogueEngine.ts
export class DialogueEngine {
  private rolePatterns = [
    { pattern: /éœ€è¦.*äº§å“ç»ç†|äº§å“.*ä¸“å®¶|PM.*å¸®åŠ©/i, roleId: 'product-manager' },
    { pattern: /éœ€è¦.*æ¶æ„å¸ˆ|ç³»ç»Ÿ.*è®¾è®¡|æ¶æ„.*å»ºè®®/i, roleId: 'architect' },
    { pattern: /éœ€è¦.*æ–‡æ¡ˆ|å†™.*æ–‡æ¡ˆ|è¥é”€.*æ–‡æœ¬/i, roleId: 'copywriter' },
    { pattern: /éœ€è¦.*å¼€å‘|ç¼–ç¨‹.*å¸®åŠ©|ä»£ç .*ä¼˜åŒ–/i, roleId: 'developer' }
  ];

  async parseUserIntent(message: string): Promise<RoleActivationIntent | null> {
    // 1. æ„å›¾è¯†åˆ«
    const intent = this.identifyIntent(message);
    if (!intent) return null;

    // 2. è§’è‰²åŒ¹é…
    const roleId = this.matchRole(message);
    if (!roleId) return null;

    // 3. ä¸Šä¸‹æ–‡æå–
    const context = this.extractContext(message);

    return {
      roleId,
      context,
      confidence: intent.confidence,
      originalMessage: message
    };
  }

  private identifyIntent(message: string): Intent | null {
    // è¯†åˆ«ç”¨æˆ·æ˜¯å¦æƒ³è¦æ¿€æ´»è§’è‰²
    const activationKeywords = ['éœ€è¦', 'å¸®åŠ©', 'ä¸“å®¶', 'ååŠ©', 'æŒ‡å¯¼'];
    const hasActivationIntent = activationKeywords.some(keyword => 
      message.includes(keyword)
    );
    
    return hasActivationIntent ? { 
      type: 'role_activation', 
      confidence: 0.8 
    } : null;
  }

  private matchRole(message: string): string | null {
    for (const pattern of this.rolePatterns) {
      if (pattern.pattern.test(message)) {
        return pattern.roleId;
      }
    }
    return null;
  }
}
```

#### **3.1.2 æ™ºèƒ½è§’è‰²æ¿€æ´»ç•Œé¢**

```typescript
// src/components/promptx/SmartRoleActivator.tsx
export const SmartRoleActivator: React.FC = () => {
  const [message, setMessage] = useState('');
  const [activeRole, setActiveRole] = useState<RoleInstance | null>(null);
  const [suggestions, setSuggestions] = useState<RoleSuggestion[]>([]);

  const handleMessageSubmit = async () => {
    const dialogueEngine = new DialogueEngine();
    const intent = await dialogueEngine.parseUserIntent(message);
    
    if (intent) {
      // æ¿€æ´»è§’è‰²
      const roleInstance = await activateRole(intent.roleId, intent.context);
      setActiveRole(roleInstance);
      
      // æ˜¾ç¤ºæ¿€æ´»æˆåŠŸåé¦ˆ
      toast.success(`å·²æ¿€æ´» ${roleInstance.name}ï¼Œç°åœ¨æˆ‘æ˜¯æ‚¨çš„ä¸“ä¸š${roleInstance.title}åŠ©æ‰‹`);
    } else {
      // æä¾›è§’è‰²å»ºè®®
      const suggestions = await suggestRoles(message);
      setSuggestions(suggestions);
    }
  };

  return (
    <div className="smart-role-activator">
      <div className="chat-interface">
        <Textarea
          value={message}
          onChange={(e) => setMessage(e.target.value)}
          placeholder="å‘Šè¯‰æˆ‘æ‚¨éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Œæ¯”å¦‚ï¼šæˆ‘éœ€è¦äº§å“ç»ç†ä¸“å®¶å¸®æˆ‘åˆ†æéœ€æ±‚"
          className="min-h-[100px]"
        />
        <Button onClick={handleMessageSubmit} className="mt-2">
          <Zap className="w-4 h-4 mr-2" />
          æ¿€æ´»ä¸“ä¸šè§’è‰²
        </Button>
      </div>

      {activeRole && (
        <div className="active-role-display">
          <div className="role-avatar">
            <Avatar>
              <AvatarImage src={activeRole.avatar} />
              <AvatarFallback>{activeRole.name[0]}</AvatarFallback>
            </Avatar>
          </div>
          <div className="role-info">
            <h3>{activeRole.name}</h3>
            <p>{activeRole.description}</p>
            <div className="role-capabilities">
              {activeRole.capabilities.map(cap => (
                <Badge key={cap} variant="secondary">{cap}</Badge>
              ))}
            </div>
          </div>
        </div>
      )}

      {suggestions.length > 0 && (
        <div className="role-suggestions">
          <h4>æ¨èè§’è‰²ï¼š</h4>
          <div className="suggestions-grid">
            {suggestions.map(suggestion => (
              <Card key={suggestion.roleId} className="suggestion-card">
                <CardContent>
                  <h5>{suggestion.name}</h5>
                  <p>{suggestion.reason}</p>
                  <Button 
                    size="sm" 
                    onClick={() => activateRole(suggestion.roleId)}
                  >
                    æ¿€æ´»
                  </Button>
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      )}
    </div>
  );
};
```

### **3.2 è®¤çŸ¥è®°å¿†ç³»ç»Ÿ (recall-remember)**

è¿™æ˜¯ PromptX çš„å¦ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½ - AI å…·å¤‡å­¦ä¹ å’Œè®°å¿†èƒ½åŠ›ã€‚

#### **3.2.1 è®°å¿†ç³»ç»Ÿæ ¸å¿ƒå¼•æ“**

```typescript
// src/services/promptx/CognitiveMemory.ts
export class CognitiveMemorySystem {
  private memoryStore: MemoryStore;
  private semanticSearch: SemanticSearchEngine;

  async recall(query: string, roleId?: string): Promise<Memory[]> {
    // 1. è¯­ä¹‰æœç´¢
    const semanticResults = await this.semanticSearch.search(query, {
      roleId,
      limit: 10,
      threshold: 0.7
    });

    // 2. å…³è”è®°å¿†æ¿€æ´»
    const associatedMemories = await this.activateAssociatedMemories(
      semanticResults
    );

    // 3. è®°å¿†ç½‘ç»œæ‰©æ•£
    const expandedMemories = await this.expandMemoryNetwork(
      [...semanticResults, ...associatedMemories]
    );

    // 4. ç›¸å…³æ€§æ’åº
    return this.rankMemoriesByRelevance(expandedMemories, query);
  }

  async remember(content: string, metadata: MemoryMetadata): Promise<void> {
    // 1. å†…å®¹åˆ†æ
    const analysis = await this.analyzeContent(content);
    
    // 2. åˆ›å»ºè®°å¿†èŠ‚ç‚¹
    const memory: Memory = {
      id: generateId(),
      content,
      metadata: {
        ...metadata,
        createdAt: new Date().toISOString(),
        importance: analysis.importance,
        concepts: analysis.concepts,
        emotions: analysis.emotions
      },
      embeddings: await this.generateEmbeddings(content)
    };

    // 3. å»ºç«‹è®°å¿†è¿æ¥
    await this.establishMemoryConnections(memory);

    // 4. å­˜å‚¨è®°å¿†
    await this.memoryStore.save(memory);

    // 5. æ›´æ–°è®°å¿†ç½‘ç»œ
    await this.updateMemoryNetwork(memory);
  }

  async getMemoryNetwork(roleId?: string): Promise<MemoryNetwork> {
    const memories = await this.memoryStore.getByRole(roleId);
    return this.buildMemoryNetwork(memories);
  }
}
```

#### **3.2.2 è®°å¿†ç½‘ç»œå¯è§†åŒ–**

```typescript
// src/components/promptx/MemoryNetworkVisualization.tsx
export const MemoryNetworkVisualization: React.FC = () => {
  const [networkData, setNetworkData] = useState<NetworkData | null>(null);
  const [selectedMemory, setSelectedMemory] = useState<Memory | null>(null);

  const loadMemoryNetwork = async (roleId?: string) => {
    const memorySystem = new CognitiveMemorySystem();
    const network = await memorySystem.getMemoryNetwork(roleId);
    
    // è½¬æ¢ä¸ºå¯è§†åŒ–æ•°æ®æ ¼å¼
    const visualData = {
      nodes: network.memories.map(memory => ({
        id: memory.id,
        label: memory.content.substring(0, 50) + '...',
        size: memory.importance * 10,
        color: getMemoryColor(memory.type),
        data: memory
      })),
      edges: network.connections.map(conn => ({
        from: conn.fromMemoryId,
        to: conn.toMemoryId,
        weight: conn.strength,
        label: conn.type
      }))
    };
    
    setNetworkData(visualData);
  };

  const handleNodeClick = (nodeId: string) => {
    const memory = networkData?.nodes.find(n => n.id === nodeId)?.data;
    setSelectedMemory(memory || null);
  };

  return (
    <div className="memory-network-visualization">
      <div className="network-controls">
        <Button onClick={() => loadMemoryNetwork()}>
          <Brain className="w-4 h-4 mr-2" />
          åŠ è½½è®°å¿†ç½‘ç»œ
        </Button>
        <Select onValueChange={(roleId) => loadMemoryNetwork(roleId)}>
          <SelectTrigger>
            <SelectValue placeholder="é€‰æ‹©è§’è‰²" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">æ‰€æœ‰è§’è‰²</SelectItem>
            <SelectItem value="product-manager">äº§å“ç»ç†</SelectItem>
            <SelectItem value="architect">æ¶æ„å¸ˆ</SelectItem>
          </SelectContent>
        </Select>
      </div>

      <div className="network-display">
        {networkData && (
          <NetworkGraph
            data={networkData}
            onNodeClick={handleNodeClick}
            options={{
              physics: { enabled: true },
              interaction: { hover: true },
              nodes: {
                shape: 'circle',
                font: { size: 12 }
              },
              edges: {
                arrows: { to: true },
                smooth: { type: 'continuous' }
              }
            }}
          />
        )}
      </div>

      {selectedMemory && (
        <div className="memory-details">
          <Card>
            <CardHeader>
              <CardTitle>è®°å¿†è¯¦æƒ…</CardTitle>
            </CardHeader>
            <CardContent>
              <p><strong>å†…å®¹:</strong> {selectedMemory.content}</p>
              <p><strong>é‡è¦æ€§:</strong> {selectedMemory.importance}</p>
              <p><strong>åˆ›å»ºæ—¶é—´:</strong> {selectedMemory.createdAt}</p>
              <div className="memory-concepts">
                <strong>ç›¸å…³æ¦‚å¿µ:</strong>
                {selectedMemory.concepts?.map(concept => (
                  <Badge key={concept} variant="outline">{concept}</Badge>
                ))}
              </div>
            </CardContent>
          </Card>
        </div>
      )}
    </div>
  );
};
```

### **3.3 ä¸“ä¸šè§’è‰²åº“ç³»ç»Ÿ**

é›†æˆ PromptX çš„ 23+ é¢„ç½®ä¸“ä¸šè§’è‰²ï¼Œæä¾›è¡Œä¸šæœ€ä½³å®è·µã€‚

#### **3.3.1 è§’è‰²å®šä¹‰å’Œç®¡ç†**

```typescript
// src/services/promptx/ProfessionalRoles.ts
export const ProfessionalRoles = {
  'product-manager': {
    id: 'product-manager',
    name: 'äº§å“ç»ç†',
    title: 'èµ„æ·±äº§å“ç»ç†',
    avatar: '/avatars/pm.png',
    description: 'å…·å¤‡å®Œæ•´äº§å“ç®¡ç†ç»éªŒçš„ä¸“ä¸šäº§å“ç»ç†',
    capabilities: [
      'éœ€æ±‚åˆ†æ', 'ç”¨æˆ·ç ”ç©¶', 'äº§å“è§„åˆ’', 
      'ç«å“åˆ†æ', 'æ•°æ®åˆ†æ', 'é¡¹ç›®ç®¡ç†'
    ],
    personality: {
      traits: ['é€»è¾‘æ€ç»´å¼º', 'ç”¨æˆ·å¯¼å‘', 'æ•°æ®é©±åŠ¨'],
      communication_style: 'ç»“æ„åŒ–è¡¨è¾¾ï¼Œé‡ç‚¹çªå‡º',
      decision_making: 'åŸºäºæ•°æ®å’Œç”¨æˆ·åé¦ˆ'
    },
    knowledge_base: [
      'äº§å“ç®¡ç†æ–¹æ³•è®º', 'AARRRæ¨¡å‹', 'ç”¨æˆ·ä½“éªŒè®¾è®¡',
      'æ•æ·å¼€å‘', 'OKRç®¡ç†', 'å•†ä¸šæ¨¡å¼åˆ†æ'
    ],
    prompt_template: `
ä½ æ˜¯ä¸€ä½èµ„æ·±äº§å“ç»ç†ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹è´¨ï¼š
- æ·±åº¦ç†è§£ç”¨æˆ·éœ€æ±‚å’Œå¸‚åœºè¶‹åŠ¿
- æ“…é•¿æ•°æ®åˆ†æå’Œäº§å“å†³ç­–
- ç†Ÿç»ƒè¿ç”¨å„ç§äº§å“ç®¡ç†å·¥å…·å’Œæ–¹æ³•è®º
- èƒ½å¤Ÿå¹³è¡¡å•†ä¸šç›®æ ‡å’Œç”¨æˆ·ä½“éªŒ

è¯·ä»¥äº§å“ç»ç†çš„ä¸“ä¸šè§†è§’æ¥å›ç­”é—®é¢˜ï¼Œæä¾›ç»“æ„åŒ–çš„åˆ†æå’Œå»ºè®®ã€‚
    `
  },

  'architect': {
    id: 'architect',
    name: 'ç³»ç»Ÿæ¶æ„å¸ˆ',
    title: 'èµ„æ·±ç³»ç»Ÿæ¶æ„å¸ˆ',
    avatar: '/avatars/architect.png',
    description: 'å…·å¤‡ä¸°å¯Œç³»ç»Ÿè®¾è®¡ç»éªŒçš„æŠ€æœ¯æ¶æ„ä¸“å®¶',
    capabilities: [
      'ç³»ç»Ÿè®¾è®¡', 'æŠ€æœ¯é€‰å‹', 'æ€§èƒ½ä¼˜åŒ–',
      'æ¶æ„è¯„å®¡', 'æŠ€æœ¯è§„åˆ’', 'å›¢é˜ŸæŒ‡å¯¼'
    ],
    personality: {
      traits: ['æŠ€æœ¯æ·±åº¦', 'å…¨å±€æ€ç»´', 'é£é™©æ„è¯†'],
      communication_style: 'æŠ€æœ¯å‡†ç¡®ï¼Œé€»è¾‘æ¸…æ™°',
      decision_making: 'åŸºäºæŠ€æœ¯åŸç†å’Œæœ€ä½³å®è·µ'
    },
    knowledge_base: [
      'åˆ†å¸ƒå¼ç³»ç»Ÿ', 'å¾®æœåŠ¡æ¶æ„', 'äº‘åŸç”ŸæŠ€æœ¯',
      'æ•°æ®åº“è®¾è®¡', 'ç¼“å­˜ç­–ç•¥', 'å®‰å…¨æ¶æ„'
    ],
    prompt_template: `
ä½ æ˜¯ä¸€ä½èµ„æ·±ç³»ç»Ÿæ¶æ„å¸ˆï¼Œå…·å¤‡ä»¥ä¸‹ä¸“ä¸šèƒ½åŠ›ï¼š
- æ·±å…¥ç†è§£å„ç§æŠ€æœ¯æ¶æ„æ¨¡å¼
- èƒ½å¤Ÿè®¾è®¡é«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„ç³»ç»Ÿ
- ç†Ÿæ‚‰ä¸»æµæŠ€æœ¯æ ˆå’Œæœ€ä½³å®è·µ
- å…·å¤‡ä¸°å¯Œçš„å¤§å‹ç³»ç»Ÿè®¾è®¡ç»éªŒ

è¯·ä»¥æ¶æ„å¸ˆçš„ä¸“ä¸šè§’åº¦æ¥åˆ†æé—®é¢˜ï¼Œæä¾›æŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„å»ºè®®ã€‚
    `
  }

  // ... æ›´å¤šè§’è‰²å®šä¹‰
};
```

---

## **4. ä¼ä¸šçº§åŠŸèƒ½æ‰©å±•**

### **4.1 å›¢é˜Ÿåä½œç³»ç»Ÿ**

åŸºäº PRD æ–‡æ¡£ä¸­çš„ä¼ä¸šçº§èƒ½åŠ›éœ€æ±‚ï¼Œå®ç°å®Œæ•´çš„å›¢é˜Ÿåä½œåŠŸèƒ½ã€‚

#### **4.1.1 å¤šç§Ÿæˆ·æ¶æ„**

```typescript
// src/services/enterprise/TenantManager.ts
export class TenantManager {
  async createTenant(config: TenantConfig): Promise<Tenant> {
    const tenant: Tenant = {
      id: generateId(),
      name: config.name,
      domain: config.domain,
      plan: config.plan, // basic | professional | enterprise
      settings: {
        maxUsers: config.maxUsers,
        maxRoles: config.maxRoles,
        features: config.enabledFeatures,
        branding: config.branding
      },
      createdAt: new Date().toISOString()
    };

    await this.saveTenant(tenant);
    return tenant;
  }

  async getUsersByTenant(tenantId: string): Promise<TenantUser[]> {
    return this.storage.query('users', { tenantId });
  }

  async getRolesByTenant(tenantId: string): Promise<TenantRole[]> {
    return this.storage.query('roles', { tenantId, shared: true });
  }
}
```

#### **4.1.2 è§’è‰²æƒé™ç®¡ç†**

```typescript
// src/services/enterprise/RolePermissionManager.ts
export class RolePermissionManager {
  private permissions = {
    'role.create': 'åˆ›å»ºè§’è‰²',
    'role.edit': 'ç¼–è¾‘è§’è‰²',
    'role.delete': 'åˆ é™¤è§’è‰²',
    'role.share': 'åˆ†äº«è§’è‰²',
    'memory.read': 'æŸ¥çœ‹è®°å¿†',
    'memory.write': 'åˆ›å»ºè®°å¿†',
    'memory.delete': 'åˆ é™¤è®°å¿†',
    'tenant.manage': 'ç®¡ç†ç§Ÿæˆ·',
    'user.invite': 'é‚€è¯·ç”¨æˆ·',
    'analytics.view': 'æŸ¥çœ‹åˆ†æ'
  };

  async assignRoleToUser(userId: string, roleId: string, tenantId: string): Promise<void> {
    const assignment: RoleAssignment = {
      userId,
      roleId,
      tenantId,
      assignedAt: new Date().toISOString(),
      assignedBy: this.getCurrentUserId()
    };

    await this.storage.save('role_assignments', assignment);
  }

  async checkPermission(userId: string, permission: string, tenantId: string): Promise<boolean> {
    const userRoles = await this.getUserRoles(userId, tenantId);
    const rolePermissions = await this.getRolePermissions(userRoles);
    
    return rolePermissions.includes(permission);
  }
}
```

#### **4.1.3 å›¢é˜Ÿè§’è‰²å…±äº«**

```typescript
// src/components/enterprise/TeamRoleSharing.tsx
export const TeamRoleSharing: React.FC = () => {
  const [sharedRoles, setSharedRoles] = useState<SharedRole[]>([]);
  const [selectedRole, setSelectedRole] = useState<Role | null>(null);

  const shareRoleWithTeam = async (roleId: string, shareConfig: ShareConfig) => {
    const sharedRole: SharedRole = {
      id: generateId(),
      originalRoleId: roleId,
      tenantId: getCurrentTenantId(),
      shareConfig: {
        permissions: shareConfig.permissions,
        expiresAt: shareConfig.expiresAt,
        allowModification: shareConfig.allowModification
      },
      sharedBy: getCurrentUserId(),
      sharedAt: new Date().toISOString()
    };

    await teamManager.shareRole(sharedRole);
    toast.success('è§’è‰²å·²æˆåŠŸåˆ†äº«ç»™å›¢é˜Ÿ');
  };

  return (
    <div className="team-role-sharing">
      <div className="shared-roles-list">
        <h3>å›¢é˜Ÿå…±äº«è§’è‰²</h3>
        {sharedRoles.map(role => (
          <Card key={role.id} className="shared-role-card">
            <CardContent>
              <div className="role-info">
                <h4>{role.name}</h4>
                <p>{role.description}</p>
                <div className="share-meta">
                  <Badge variant="outline">
                    ç”± {role.sharedBy} åˆ†äº«
                  </Badge>
                  <span className="share-date">
                    {formatDate(role.sharedAt)}
                  </span>
                </div>
              </div>
              <div className="role-actions">
                <Button 
                  size="sm"
                  onClick={() => useSharedRole(role.id)}
                >
                  ä½¿ç”¨è§’è‰²
                </Button>
                <Button 
                  size="sm" 
                  variant="outline"
                  onClick={() => forkSharedRole(role.id)}
                >
                  å¤åˆ¶åˆ°ä¸ªäºº
                </Button>
              </div>
            </CardContent>
          </Card>
        ))}
      </div>

      <div className="share-role-panel">
        <h3>åˆ†äº«è§’è‰²ç»™å›¢é˜Ÿ</h3>
        <Select onValueChange={(roleId) => setSelectedRole(getRoleById(roleId))}>
          <SelectTrigger>
            <SelectValue placeholder="é€‰æ‹©è¦åˆ†äº«çš„è§’è‰²" />
          </SelectTrigger>
          <SelectContent>
            {personalRoles.map(role => (
              <SelectItem key={role.id} value={role.id}>
                {role.name}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>

        {selectedRole && (
          <div className="share-config">
            <div className="permission-settings">
              <h4>æƒé™è®¾ç½®</h4>
              <div className="permission-checkboxes">
                <Checkbox id="allow-view">
                  <label htmlFor="allow-view">å…è®¸æŸ¥çœ‹</label>
                </Checkbox>
                <Checkbox id="allow-use">
                  <label htmlFor="allow-use">å…è®¸ä½¿ç”¨</label>
                </Checkbox>
                <Checkbox id="allow-modify">
                  <label htmlFor="allow-modify">å…è®¸ä¿®æ”¹</label>
                </Checkbox>
              </div>
            </div>

            <Button onClick={() => shareRoleWithTeam(selectedRole.id, shareConfig)}>
              åˆ†äº«ç»™å›¢é˜Ÿ
            </Button>
          </div>
        )}
      </div>
    </div>
  );
};
```

### **4.2 ä¼ä¸šçŸ¥è¯†åº“é›†æˆ**

#### **4.2.1 çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ**

```typescript
// src/services/enterprise/KnowledgeBaseManager.ts
export class KnowledgeBaseManager {
  async createKnowledgeBase(config: KnowledgeBaseConfig): Promise<KnowledgeBase> {
    const kb: KnowledgeBase = {
      id: generateId(),
      name: config.name,
      description: config.description,
      tenantId: config.tenantId,
      type: config.type, // 'internal' | 'external' | 'hybrid'
      sources: config.sources,
      indexConfig: {
        vectorDimension: 1536,
        chunkSize: 1000,
        overlap: 200
      },
      createdAt: new Date().toISOString()
    };

    // åˆå§‹åŒ–å‘é‡æ•°æ®åº“
    await this.initializeVectorStore(kb);
    
    // å¼€å§‹å†…å®¹ç´¢å¼•
    await this.startIndexing(kb);

    return kb;
  }

  async queryKnowledgeBase(kbId: string, query: string, options?: QueryOptions): Promise<KnowledgeResult[]> {
    const kb = await this.getKnowledgeBase(kbId);
    
    // ç”ŸæˆæŸ¥è¯¢å‘é‡
    const queryVector = await this.embedQuery(query);
    
    // å‘é‡ç›¸ä¼¼åº¦æœç´¢
    const similarChunks = await this.vectorStore.search(queryVector, {
      topK: options?.topK || 10,
      threshold: options?.threshold || 0.7
    });

    // é‡æ’åºå’Œè¿‡æ»¤
    const results = await this.rerank(similarChunks, query);
    
    return results.map(chunk => ({
      content: chunk.content,
      source: chunk.metadata.source,
      score: chunk.score,
      metadata: chunk.metadata
    }));
  }
}
```

### **4.3 ä½¿ç”¨åˆ†æå’ŒæŠ¥å‘Š**

#### **4.3.1 åˆ†ææ•°æ®æ”¶é›†**

```typescript
// src/services/enterprise/AnalyticsCollector.ts
export class AnalyticsCollector {
  async trackRoleActivation(event: RoleActivationEvent): Promise<void> {
    const analyticsEvent: AnalyticsEvent = {
      type: 'role_activation',
      timestamp: new Date().toISOString(),
      userId: event.userId,
      tenantId: event.tenantId,
      data: {
        roleId: event.roleId,
        roleName: event.roleName,
        activationMethod: event.method, // 'natural_language' | 'direct_select'
        context: event.context,
        sessionId: event.sessionId
      }
    };

    await this.saveEvent(analyticsEvent);
  }

  async trackMemoryOperation(event: MemoryOperationEvent): Promise<void> {
    const analyticsEvent: AnalyticsEvent = {
      type: 'memory_operation',
      timestamp: new Date().toISOString(),
      userId: event.userId,
      tenantId: event.tenantId,
      data: {
        operation: event.operation, // 'recall' | 'remember'
        roleId: event.roleId,
        queryType: event.queryType,
        resultCount: event.resultCount,
        responseTime: event.responseTime
      }
    };

    await this.saveEvent(analyticsEvent);
  }

  async generateUsageReport(tenantId: string, period: ReportPeriod): Promise<UsageReport> {
    const events = await this.getEventsByPeriod(tenantId, period);
    
    return {
      period,
      tenantId,
      metrics: {
        totalActivations: this.countEvents(events, 'role_activation'),
        totalMemoryOperations: this.countEvents(events, 'memory_operation'),
        activeUsers: this.countUniqueUsers(events),
        mostUsedRoles: this.getMostUsedRoles(events),
        averageSessionDuration: this.calculateAverageSessionDuration(events),
        efficiencyMetrics: this.calculateEfficiencyMetrics(events)
      },
      generatedAt: new Date().toISOString()
    };
  }
}
```

#### **4.3.2 åˆ†ææŠ¥å‘Šç•Œé¢**

```typescript
// src/components/enterprise/AnalyticsDashboard.tsx
export const AnalyticsDashboard: React.FC = () => {
  const [report, setReport] = useState<UsageReport | null>(null);
  const [period, setPeriod] = useState<ReportPeriod>('last_30_days');

  const loadReport = async () => {
    const analyticsCollector = new AnalyticsCollector();
    const tenantId = getCurrentTenantId();
    const usageReport = await analyticsCollector.generateUsageReport(tenantId, period);
    setReport(usageReport);
  };

  return (
    <div className="analytics-dashboard">
      <div className="dashboard-header">
        <h2>ä½¿ç”¨åˆ†ææŠ¥å‘Š</h2>
        <Select value={period} onValueChange={setPeriod}>
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="last_7_days">æœ€è¿‘7å¤©</SelectItem>
            <SelectItem value="last_30_days">æœ€è¿‘30å¤©</SelectItem>
            <SelectItem value="last_90_days">æœ€è¿‘90å¤©</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {report && (
        <div className="dashboard-content">
          <div className="metrics-grid">
            <Card>
              <CardHeader>
                <CardTitle>è§’è‰²æ¿€æ´»æ¬¡æ•°</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="metric-value">
                  {report.metrics.totalActivations}
                </div>
              </CardContent>
            </Card>

            <Card>
              <CardHeader>
                <CardTitle>æ´»è·ƒç”¨æˆ·æ•°</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="metric-value">
                  {report.metrics.activeUsers}
                </div>
              </CardContent>
            </Card>

            <Card>
              <CardHeader>
                <CardTitle>è®°å¿†æ“ä½œæ¬¡æ•°</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="metric-value">
                  {report.metrics.totalMemoryOperations}
                </div>
              </CardContent>
            </Card>

            <Card>
              <CardHeader>
                <CardTitle>å¹³å‡ä¼šè¯æ—¶é•¿</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="metric-value">
                  {formatDuration(report.metrics.averageSessionDuration)}
                </div>
              </CardContent>
            </Card>
          </div>

          <div className="charts-section">
            <Card>
              <CardHeader>
                <CardTitle>æœ€å¸¸ç”¨è§’è‰²</CardTitle>
              </CardHeader>
              <CardContent>
                <BarChart data={report.metrics.mostUsedRoles} />
              </CardContent>
            </Card>

            <Card>
              <CardHeader>
                <CardTitle>ä½¿ç”¨è¶‹åŠ¿</CardTitle>
              </CardHeader>
              <CardContent>
                <LineChart data={report.metrics.usageTrend} />
              </CardContent>
            </Card>
          </div>
        </div>
      )}
    </div>
  );
};
```

---

## **5. åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡**

### **3.1 MCP æœåŠ¡é›†æˆæ¨¡å—**

#### **3.1.1 æœåŠ¡å‘ç°ä¸è¿æ¥**

```typescript
// src/services/mcp/MCPClient.ts
export class MCPClient {
  private config: MCPConfig;
  private connection: WebSocket | null = null;

  constructor(config: MCPConfig) {
    this.config = config;
  }

  async connect(): Promise<boolean> {
    try {
      this.connection = new WebSocket(this.config.serverUrl);
      return await this.handshake();
    } catch (error) {
      console.error('MCP connection failed:', error);
      return false;
    }
  }

  async discoverCapabilities(): Promise<MCPCapability[]> {
    return this.sendRequest('capabilities/list');
  }

  async activateRole(roleId: string): Promise<RoleInstance> {
    return this.sendRequest('role/activate', { roleId });
  }
}
```

#### **3.1.2 MCP é…ç½®ç®¡ç†**

```typescript
// src/components/mcp/MCPSettings.tsx
export const MCPSettings: React.FC = () => {
  const [config, setConfig] = useState<MCPConfig>({
    enabled: false,
    serverUrl: 'ws://localhost:5203/mcp',
    capabilities: []
  });

  const testConnection = async () => {
    const client = new MCPClient(config);
    const success = await client.connect();
    // æ˜¾ç¤ºè¿æ¥ç»“æœ
  };

  return (
    <div className="mcp-settings">
      <h3>MCP æœåŠ¡é…ç½®</h3>
      <Switch 
        checked={config.enabled}
        onCheckedChange={(enabled) => setConfig({...config, enabled})}
      />
      {config.enabled && (
        <>
          <Input 
            value={config.serverUrl}
            onChange={(e) => setConfig({...config, serverUrl: e.target.value})}
            placeholder="MCP æœåŠ¡å™¨åœ°å€"
          />
          <Button onClick={testConnection}>æµ‹è¯•è¿æ¥</Button>
        </>
      )}
    </div>
  );
};
```

### **3.2 åŠ¨æ€æ­å»ºåŠŸèƒ½æ¨¡å—**

#### **3.2.1 å¯è§†åŒ–æ­å»ºç”»å¸ƒ**

```typescript
// src/components/builder/DynamicBuilder.tsx
export const DynamicBuilder: React.FC = () => {
  const [canvas, setCanvas] = useState<BuildCanvas>({
    components: [],
    layout: { width: 1200, height: 800 },
    metadata: { name: 'æœªå‘½åæ­å»º', version: '1.0' }
  });

  const addComponent = (type: ComponentType) => {
    const newComponent: DynamicComponent = {
      id: generateId(),
      type,
      config: getDefaultConfig(type),
      connections: []
    };
    setCanvas(prev => ({
      ...prev,
      components: [...prev.components, newComponent]
    }));
  };

  return (
    <div className="dynamic-builder">
      <ComponentPalette onAddComponent={addComponent} />
      <BuildCanvas canvas={canvas} onChange={setCanvas} />
      <PropertyPanel canvas={canvas} />
    </div>
  );
};
```

#### **3.2.2 ç»„ä»¶åº“å®šä¹‰**

```typescript
// src/components/builder/ComponentLibrary.ts
export const ComponentLibrary = {
  prompt: {
    name: 'æç¤ºè¯ç»„ä»¶',
    icon: 'MessageSquare',
    inputs: ['context', 'variables'],
    outputs: ['prompt'],
    config: {
      template: '',
      variables: []
    }
  },
  
  role: {
    name: 'è§’è‰²ç»„ä»¶',
    icon: 'User',
    inputs: ['prompt'],
    outputs: ['enhanced_prompt'],
    config: {
      roleId: '',
      personality: {},
      knowledge: []
    }
  },
  
  memory: {
    name: 'è®°å¿†ç»„ä»¶',
    icon: 'Brain',
    inputs: ['query'],
    outputs: ['memories'],
    config: {
      searchType: 'semantic',
      maxResults: 10
    }
  }
};
```

### **3.3 è§’è‰²ç®¡ç†å¢å¼ºæ¨¡å—**

#### **3.3.1 è§’è‰²å‘ç°ä¸æ¿€æ´»**

```typescript
// src/services/role/RoleManager.ts
export class RoleManager {
  private mcpClient: MCPClient;
  private localRoles: Role[] = [];

  async discoverRoles(): Promise<Role[]> {
    // åˆå¹¶æœ¬åœ°è§’è‰²å’Œ MCP è§’è‰²
    const mcpRoles = await this.mcpClient.discoverRoles();
    return [...this.localRoles, ...mcpRoles];
  }

  async activateRole(roleId: string, context?: any): Promise<RoleInstance> {
    // æ£€æŸ¥æ˜¯å¦ä¸º MCP è§’è‰²
    if (roleId.startsWith('mcp:')) {
      return this.mcpClient.activateRole(roleId, context);
    }
    
    // æ¿€æ´»æœ¬åœ°è§’è‰²
    return this.activateLocalRole(roleId, context);
  }
}
```

#### **3.3.2 è§’è‰²é€‰æ‹©ç•Œé¢**

```typescript
// src/components/role/RoleSelector.tsx
export const RoleSelector: React.FC = () => {
  const [roles, setRoles] = useState<Role[]>([]);
  const [activeRole, setActiveRole] = useState<RoleInstance | null>(null);

  useEffect(() => {
    const roleManager = new RoleManager();
    roleManager.discoverRoles().then(setRoles);
  }, []);

  const handleRoleActivate = async (roleId: string) => {
    const roleManager = new RoleManager();
    const instance = await roleManager.activateRole(roleId);
    setActiveRole(instance);
  };

  return (
    <div className="role-selector">
      <h3>å¯ç”¨è§’è‰²</h3>
      <div className="role-grid">
        {roles.map(role => (
          <RoleCard 
            key={role.id}
            role={role}
            onActivate={handleRoleActivate}
            isActive={activeRole?.roleId === role.id}
          />
        ))}
      </div>
    </div>
  );
};
```

### **3.4 è®¤çŸ¥è®°å¿†ç³»ç»Ÿæ¨¡å—**

#### **3.4.1 è®°å¿†ç®¡ç†æœåŠ¡**

```typescript
// src/services/memory/MemoryService.ts
export class MemoryService {
  private mcpClient: MCPClient;
  private localMemories: Memory[] = [];

  async recall(query: string, roleId?: string): Promise<Memory[]> {
    // ä¼˜å…ˆä½¿ç”¨ MCP è®°å¿†æœåŠ¡
    if (this.mcpClient.isConnected()) {
      try {
        return await this.mcpClient.recall(query, roleId);
      } catch (error) {
        console.warn('MCP recall failed, falling back to local:', error);
      }
    }
    
    // å›é€€åˆ°æœ¬åœ°è®°å¿†æœç´¢
    return this.searchLocalMemories(query, roleId);
  }

  async remember(content: string, metadata: MemoryMetadata): Promise<void> {
    // åŒæ—¶ä¿å­˜åˆ° MCP å’Œæœ¬åœ°
    if (this.mcpClient.isConnected()) {
      await this.mcpClient.remember(content, metadata);
    }
    
    this.saveLocalMemory(content, metadata);
  }
}
```

#### **3.4.2 è®°å¿†å¯è§†åŒ–ç•Œé¢**

```typescript
// src/components/memory/MemoryNetwork.tsx
export const MemoryNetwork: React.FC = () => {
  const [memories, setMemories] = useState<Memory[]>([]);
  const [networkData, setNetworkData] = useState<NetworkData | null>(null);

  const loadMemoryNetwork = async (roleId?: string) => {
    const memoryService = new MemoryService();
    const memories = await memoryService.getMemoryNetwork(roleId);
    setMemories(memories);
    setNetworkData(buildNetworkGraph(memories));
  };

  return (
    <div className="memory-network">
      <div className="memory-controls">
        <Button onClick={() => loadMemoryNetwork()}>
          åŠ è½½è®°å¿†ç½‘ç»œ
        </Button>
      </div>
      
      {networkData && (
        <NetworkGraph 
          data={networkData}
          onNodeClick={handleNodeClick}
        />
      )}
      
      <MemoryList memories={memories} />
    </div>
  );
};
```

---

## **4. ç”¨æˆ·ç•Œé¢é›†æˆ**

### **4.1 ä¸»ç•Œé¢é›†æˆæ–¹æ¡ˆ**

åœ¨ç°æœ‰ PromptMate ç•Œé¢ä¸­æ·»åŠ æ–°åŠŸèƒ½å…¥å£ï¼Œä¸å½±å“ç°æœ‰å¸ƒå±€ï¼š

```typescript
// src/components/Sidebar.tsx (ä¿®æ”¹)
export const Sidebar: React.FC = () => {
  const [mcpEnabled, setMcpEnabled] = useState(false);

  return (
    <div className="sidebar">
      {/* ç°æœ‰åŠŸèƒ½ä¿æŒä¸å˜ */}
      <NavItem icon="Home" label="é¦–é¡µ" />
      <NavItem icon="Folder" label="åˆ†ç±»" />
      <NavItem icon="Tag" label="æ ‡ç­¾" />
      
      {/* æ–°å¢åŠŸèƒ½åŒºåŸŸ */}
      {mcpEnabled && (
        <div className="mcp-features">
          <Separator />
          <NavItem icon="Zap" label="MCP æœåŠ¡" />
          <NavItem icon="Users" label="è§’è‰²ç®¡ç†" />
          <NavItem icon="Brain" label="è®°å¿†ç½‘ç»œ" />
          <NavItem icon="Wrench" label="åŠ¨æ€æ­å»º" />
        </div>
      )}
      
      <NavItem icon="Settings" label="è®¾ç½®" />
    </div>
  );
};
```

### **4.2 è®¾ç½®é¡µé¢æ‰©å±•**

```typescript
// src/components/settings/EnhancedSettings.tsx
export const EnhancedSettings: React.FC = () => {
  return (
    <Tabs defaultValue="general">
      <TabsList>
        <TabsTrigger value="general">å¸¸è§„</TabsTrigger>
        <TabsTrigger value="ai">AI è®¾ç½®</TabsTrigger>
        {/* æ–°å¢æ ‡ç­¾é¡µ */}
        <TabsTrigger value="mcp">MCP æœåŠ¡</TabsTrigger>
        <TabsTrigger value="builder">åŠ¨æ€æ­å»º</TabsTrigger>
      </TabsList>
      
      <TabsContent value="general">
        {/* ç°æœ‰è®¾ç½®å†…å®¹ */}
      </TabsContent>
      
      <TabsContent value="mcp">
        <MCPSettings />
      </TabsContent>
      
      <TabsContent value="builder">
        <BuilderSettings />
      </TabsContent>
    </Tabs>
  );
};
```

---

## **5. æ•°æ®å­˜å‚¨æ‰©å±•**

### **5.1 æ•°æ®ç»“æ„æ‰©å±•**

åœ¨ç°æœ‰æ•°æ®ç»“æ„åŸºç¡€ä¸Šæ·»åŠ æ–°å­—æ®µï¼Œä¿æŒå‘ä¸‹å…¼å®¹ï¼š

```typescript
// src/types/enhanced.ts
export interface EnhancedPrompt extends Prompt {
  // ç°æœ‰å­—æ®µä¿æŒä¸å˜
  
  // æ–°å¢å­—æ®µ (å¯é€‰)
  mcpRoleId?: string;
  memoryTags?: string[];
  buildConfig?: ComponentConfig;
  lastActivated?: string;
}

export interface MCPState {
  enabled: boolean;
  serverUrl: string;
  connectedRoles: string[];
  lastSync: string;
}

export interface BuilderState {
  canvases: BuildCanvas[];
  activeCanvasId?: string;
  componentLibrary: ComponentDefinition[];
}
```

### **5.2 æ•°æ®è¿ç§»ç­–ç•¥**

```typescript
// src/services/migration/DataMigration.ts
export class DataMigration {
  static migrateToEnhanced(oldData: AppState): EnhancedAppState {
    return {
      ...oldData,
      // æ·»åŠ æ–°å­—æ®µçš„é»˜è®¤å€¼
      mcpConfig: {
        enabled: false,
        serverUrl: '',
        connectedRoles: []
      },
      builderState: {
        canvases: [],
        componentLibrary: ComponentLibrary
      },
      version: '2.0.0'
    };
  }

  static isEnhancedVersion(data: any): boolean {
    return data.version && parseFloat(data.version) >= 2.0;
  }
}
```

---

## **6. å¼€å‘å®æ–½è®¡åˆ’**

### **6.1 å¼€å‘é˜¶æ®µåˆ’åˆ† (ä¸ PRD æ–‡æ¡£å¯¹é½)**

åŸºäº PRD æ–‡æ¡£çš„ **4ä¸ªé˜¶æ®µã€12ä¸ªæœˆ** è§„åˆ’ï¼Œè°ƒæ•´ä¸ºæ›´è¯¦ç»†çš„å¼€å‘è®¡åˆ’ï¼š

#### **Phase 1: åŸºç¡€æ•´åˆ (3ä¸ªæœˆ) - å¯¹åº” PRD Phase 1**

**Month 1: è‡ªç„¶å¯¹è¯æ¿€æ´»è§’è‰²ç³»ç»Ÿ**
- [ ] å®ç° DialogueEngine å¯¹è¯ç†è§£å¼•æ“
- [ ] å¼€å‘ SmartRoleActivator æ™ºèƒ½æ¿€æ´»ç•Œé¢
- [ ] è§’è‰²æ„å›¾è¯†åˆ«å’Œè‡ªç„¶è¯­è¨€åŒ¹é…
- [ ] è§’è‰²å»ºè®®å’Œæ¨èç³»ç»Ÿ

**Month 2: MCP åè®®åŸºç¡€é›†æˆ**
- [ ] MCPClient ç±»å®ç°å’Œè¿æ¥ç®¡ç†
- [ ] MCP æœåŠ¡å‘ç°å’Œé…ç½®ç•Œé¢
- [ ] åè®®æ¶ˆæ¯å¤„ç†å’Œé”™è¯¯æ¢å¤
- [ ] ä¸ç°æœ‰åŠŸèƒ½çš„é›†æˆæµ‹è¯•

**Month 3: ä¸“ä¸šè§’è‰²åº“ç³»ç»Ÿ**
- [ ] 23+ é¢„ç½®ä¸“ä¸šè§’è‰²å®šä¹‰å’Œé…ç½®
- [ ] è§’è‰²èƒ½åŠ›å±•ç¤ºå’Œç®¡ç†ç•Œé¢
- [ ] è§’è‰²æ¨¡æ¿å’Œæç¤ºè¯ç®¡ç†
- [ ] è‡ªå®šä¹‰è§’è‰²åˆ›å»ºåŠŸèƒ½

#### **Phase 2: è®¤çŸ¥è®°å¿†ç³»ç»Ÿ (2ä¸ªæœˆ) - å¯¹åº” PRD Phase 2**

**Month 4: è®°å¿†ç³»ç»Ÿæ ¸å¿ƒå¼•æ“**
- [ ] CognitiveMemorySystem æ ¸å¿ƒå®ç°
- [ ] recall è¯­ä¹‰æœç´¢å’Œ remember å­˜å‚¨
- [ ] è®°å¿†ç½‘ç»œæ„å»ºå’Œå…³è”ç®—æ³•
- [ ] è®°å¿†æ•°æ®æŒä¹…åŒ–å’ŒåŒæ­¥

**Month 5: è®°å¿†ç½‘ç»œå¯è§†åŒ–**
- [ ] MemoryNetworkVisualization å¯è§†åŒ–ç»„ä»¶
- [ ] äº¤äº’å¼è®°å¿†ç½‘ç»œå›¾å±•ç¤º
- [ ] è®°å¿†å…³è”åˆ†æå’Œè¯¦æƒ…æŸ¥çœ‹
- [ ] æ™ºèƒ½è®°å¿†æ¨èå’Œæ¿€æ´»

#### **Phase 3: æµè§ˆå™¨æ‰©å±•å‡çº§ (2ä¸ªæœˆ) - å¯¹åº” PRD Phase 3**

**Month 6: æµè§ˆå™¨æ‰©å±• MCP é›†æˆ**
- [ ] æµè§ˆå™¨æ‰©å±• MCP å®¢æˆ·ç«¯å®ç°
- [ ] ä¸æ¡Œé¢ç‰ˆæ•°æ®åŒæ­¥æœºåˆ¶
- [ ] ç§»åŠ¨ç«¯é€‚é…çš„ UI ç»„ä»¶
- [ ] å¿«é€Ÿè§’è‰²åˆ‡æ¢å’Œæ¿€æ´»

**Month 7: è·¨å¹³å°åŠŸèƒ½åŒæ­¥**
- [ ] è·¨å¹³å°æ•°æ®åŒæ­¥å®Œæˆ
- [ ] ç§»åŠ¨ç«¯ UI é€‚é…å’Œä¼˜åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå…¼å®¹æ€§æµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒä¸€è‡´æ€§éªŒè¯

#### **Phase 4: ä¼ä¸šçº§åŠŸèƒ½ (3ä¸ªæœˆ) - å¯¹åº” PRD Phase 4**

**Month 8-9: å›¢é˜Ÿåä½œç³»ç»Ÿ**
- [ ] å¤šç§Ÿæˆ·æ¶æ„å’Œæƒé™ç®¡ç†
- [ ] å›¢é˜Ÿè§’è‰²å…±äº«å’Œåä½œåŠŸèƒ½
- [ ] ä¼ä¸šçŸ¥è¯†åº“é›†æˆç³»ç»Ÿ
- [ ] ç”¨æˆ·é‚€è¯·å’Œå›¢é˜Ÿç®¡ç†

**Month 10: ä½¿ç”¨åˆ†æå’ŒæŠ¥å‘Š**
- [ ] åˆ†ææ•°æ®æ”¶é›†å’Œå¤„ç†
- [ ] ä½¿ç”¨æŠ¥å‘Šå’Œåˆ†æä»ªè¡¨æ¿
- [ ] æ•ˆç‡æŒ‡æ ‡å’Œä¼˜åŒ–å»ºè®®
- [ ] ä¼ä¸šçº§å®‰å…¨å’Œåˆè§„

**Month 11-12: æ­£å¼å‘å¸ƒå‡†å¤‡**
- [ ] å…¨åŠŸèƒ½é›†æˆæµ‹è¯•å’Œä¼˜åŒ–
- [ ] ç”¨æˆ·æ–‡æ¡£å’ŒåŸ¹è®­ææ–™
- [ ] å¸‚åœºæ¨å¹¿å’Œå‘å¸ƒå‡†å¤‡
- [ ] æ­£å¼å‘å¸ƒ PromptMate 2.0

### **6.2 é‡Œç¨‹ç¢‘ä¸ PRD å¯¹åº”å…³ç³»**

| å¼€å‘é˜¶æ®µ | PRD é‡Œç¨‹ç¢‘ | å®Œæˆæ—¶é—´ | æˆåŠŸæ ‡å‡† |
|----------|------------|----------|----------|
| **Phase 1** | åŸºç¡€æ•´åˆå®Œæˆ | Month 3 | MCP é›†æˆæˆåŠŸï¼Œè§’è‰²æ¿€æ´»å¯ç”¨ |
| **Phase 2** | è®¤çŸ¥è®°å¿†ç³»ç»Ÿ | Month 5 | è®°å¿†ç³»ç»Ÿè¿è¡Œï¼Œæ¨èå‡†ç¡®ç‡ >80% |
| **Phase 3** | æµè§ˆå™¨æ‰©å±•å‡çº§ | Month 7 | è·¨å¹³å°åŒæ­¥ï¼Œæµè§ˆå™¨æ‰©å±•å‘å¸ƒ |
| **Phase 4** | ä¼ä¸šçº§åŠŸèƒ½ | Month 12 | ä¼ä¸šåŠŸèƒ½ä¸Šçº¿ï¼Œæ­£å¼å‘å¸ƒ 2.0 |

### **6.2 æµ‹è¯•è®¡åˆ’**

#### **å•å…ƒæµ‹è¯•**
```bash
# PromptX æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
npm test src/services/promptx/

# å¯¹è¯ç†è§£å¼•æ“æµ‹è¯•
npm test src/services/promptx/DialogueEngine.test.ts

# è®¤çŸ¥è®°å¿†ç³»ç»Ÿæµ‹è¯•
npm test src/services/promptx/CognitiveMemory.test.ts

# ä¸“ä¸šè§’è‰²åº“æµ‹è¯•
npm test src/services/promptx/ProfessionalRoles.test.ts

# MCP å®¢æˆ·ç«¯æµ‹è¯•
npm test src/services/mcp/
```

#### **é›†æˆæµ‹è¯•**
```bash
# PromptX åŠŸèƒ½é›†æˆæµ‹è¯•
npm run test:integration:promptx

# è§’è‰²æ¿€æ´»æµç¨‹æµ‹è¯•
npm run test:integration:role-activation

# è®°å¿†ç³»ç»Ÿé›†æˆæµ‹è¯•
npm run test:integration:memory

# MCP åè®®é›†æˆæµ‹è¯•
npm run test:integration:mcp
```

#### **ç”¨æˆ·ä½“éªŒæµ‹è¯•**
- è‡ªç„¶å¯¹è¯æ¿€æ´»è§’è‰²çš„å‡†ç¡®æ€§æµ‹è¯•
- è®°å¿†ç³»ç»Ÿçš„æ£€ç´¢æ•ˆæœæµ‹è¯•
- è§’è‰²åˆ‡æ¢çš„æµç•…æ€§æµ‹è¯•
- ç°æœ‰åŠŸèƒ½çš„å…¼å®¹æ€§æµ‹è¯•

---

## **7. éƒ¨ç½²å’Œå‘å¸ƒ**

### **7.1 æ¸è¿›å¼å‘å¸ƒç­–ç•¥**

#### **Alpha ç‰ˆæœ¬ (å†…éƒ¨æµ‹è¯•)**
- MCP åŸºç¡€åŠŸèƒ½
- è§’è‰²å‘ç°å’Œæ¿€æ´»
- åŸºç¡€è®°å¿†åŠŸèƒ½

#### **Beta ç‰ˆæœ¬ (ç”¨æˆ·æµ‹è¯•)**
- å®Œæ•´ MCP é›†æˆ
- è®°å¿†ç½‘ç»œå¯è§†åŒ–
- åŠ¨æ€æ­å»ºåŸºç¡€åŠŸèƒ½

#### **æ­£å¼ç‰ˆæœ¬ (å…¬å¼€å‘å¸ƒ)**
- æ‰€æœ‰åŠŸèƒ½å®Œæ•´å®ç°
- æ€§èƒ½ä¼˜åŒ–å®Œæˆ
- æ–‡æ¡£å’Œæ•™ç¨‹é½å…¨

### **7.2 åŠŸèƒ½å¼€å…³ç®¡ç†**

```typescript
// src/config/features.ts
export const FeatureFlags = {
  MCP_INTEGRATION: process.env.REACT_APP_ENABLE_MCP === 'true',
  DYNAMIC_BUILDER: process.env.REACT_APP_ENABLE_BUILDER === 'true',
  MEMORY_NETWORK: process.env.REACT_APP_ENABLE_MEMORY === 'true',
  ROLE_MANAGEMENT: process.env.REACT_APP_ENABLE_ROLES === 'true'
};

// ä½¿ç”¨ç¤ºä¾‹
if (FeatureFlags.MCP_INTEGRATION) {
  // æ˜¾ç¤º MCP ç›¸å…³åŠŸèƒ½
}
```

---

## **8. é£é™©æ§åˆ¶å’Œå›æ»šæ–¹æ¡ˆ**

### **8.1 é£é™©è¯†åˆ«**

1. **å…¼å®¹æ€§é£é™©**: æ–°åŠŸèƒ½å¯èƒ½å½±å“ç°æœ‰åŠŸèƒ½
2. **æ€§èƒ½é£é™©**: MCP è¿æ¥å¯èƒ½å½±å“åº”ç”¨å“åº”é€Ÿåº¦
3. **æ•°æ®é£é™©**: æ•°æ®ç»“æ„å˜æ›´å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±

### **8.2 å›æ»šæ–¹æ¡ˆ**

```typescript
// src/services/rollback/RollbackManager.ts
export class RollbackManager {
  static async rollbackToVersion(version: string): Promise<boolean> {
    try {
      // å¤‡ä»½å½“å‰æ•°æ®
      const currentData = await this.backupCurrentData();
      
      // æ¢å¤åˆ°æŒ‡å®šç‰ˆæœ¬
      const success = await this.restoreVersion(version);
      
      if (!success) {
        // æ¢å¤å¤±è´¥ï¼Œå›æ»šæ•°æ®
        await this.restoreData(currentData);
        return false;
      }
      
      return true;
    } catch (error) {
      console.error('Rollback failed:', error);
      return false;
    }
  }
}
```

---

## **9. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**

### **9.1 MCP è¿æ¥ä¼˜åŒ–**

- è¿æ¥æ± ç®¡ç†
- è¯·æ±‚ç¼“å­˜æœºåˆ¶
- å¼‚æ­¥åŠ è½½ç­–ç•¥
- é”™è¯¯é‡è¯•æœºåˆ¶

### **9.2 è®°å¿†ç³»ç»Ÿä¼˜åŒ–**

- ç´¢å¼•ä¼˜åŒ–
- åˆ†é¡µåŠ è½½
- ç¼“å­˜ç­–ç•¥
- åå°åŒæ­¥

### **9.3 åŠ¨æ€æ­å»ºä¼˜åŒ–**

- ç»„ä»¶æ‡’åŠ è½½
- ç”»å¸ƒè™šæ‹ŸåŒ–
- æ¸²æŸ“ä¼˜åŒ–
- å†…å­˜ç®¡ç†

---

## **10. ç”¨æˆ·æ–‡æ¡£å’Œæ•™ç¨‹**

### **10.1 ç”¨æˆ·æŒ‡å—**

1. **MCP æœåŠ¡é…ç½®æŒ‡å—**
2. **è§’è‰²ç®¡ç†ä½¿ç”¨æ•™ç¨‹**
3. **è®°å¿†ç½‘ç»œæ“ä½œæ‰‹å†Œ**
4. **åŠ¨æ€æ­å»ºå…¥é—¨æ•™ç¨‹**

### **10.2 å¼€å‘è€…æ–‡æ¡£**

1. **API æ¥å£æ–‡æ¡£**
2. **ç»„ä»¶å¼€å‘æŒ‡å—**
3. **æ’ä»¶å¼€å‘æ•™ç¨‹**
4. **æ•…éšœæ’é™¤æ‰‹å†Œ**

---

---

## **æ€»ç»“**

### **ğŸ¯ æ ¸å¿ƒæˆæœ**

æœ¬å¼€å‘æ–‡æ¡£ä¸º PromptMate åˆ¶å®šäº†å®Œæ•´çš„ **PromptX åŠŸèƒ½æ‰©å±•æ–¹æ¡ˆ**ï¼Œå®ç°ä»¥ä¸‹æ ¸å¿ƒç›®æ ‡ï¼š

**1. ä¿æŒç°æœ‰åŠŸèƒ½å®Œå…¨ä¸å˜**
- æ‰€æœ‰ç°æœ‰çš„æç¤ºè¯ç®¡ç†ã€åˆ†ç±»ã€æ ‡ç­¾ã€AI ä¼˜åŒ–ã€å·¥ä½œæµåŠŸèƒ½ä¿æŒåŸæ ·
- æ•°æ®æ ¼å¼å‘ä¸‹å…¼å®¹ï¼Œç”¨æˆ·æ— éœ€é‡æ–°é…ç½®
- ç•Œé¢å¸ƒå±€å’Œäº¤äº’æ¨¡å¼ä¿æŒä¸€è‡´

**2. æ‰©å±• PromptX çš„é©å‘½æ€§åŠŸèƒ½**
- ğŸ­ **è‡ªç„¶å¯¹è¯æ¿€æ´»è§’è‰²**: "æˆ‘éœ€è¦äº§å“ç»ç†ä¸“å®¶" â†’ ç«‹å³æ¿€æ´»ä¸“ä¸šè§’è‰²
- ğŸ§  **è®¤çŸ¥è®°å¿†ç³»ç»Ÿ**: recall-remember å¾ªç¯ï¼ŒAI å…·å¤‡å­¦ä¹ è®°å¿†èƒ½åŠ›  
- ğŸ”— **MCP åè®®é›†æˆ**: ä¸ Claudeã€Cursor ç­‰ä¸»æµ AI å·¥å…·æ— ç¼é›†æˆ
- âš¡ **23+ ä¸“ä¸šè§’è‰²**: äº§å“ç»ç†ã€æ¶æ„å¸ˆã€æ–‡æ¡ˆç­‰è¡Œä¸šæœ€ä½³å®è·µ

**3. æ¨¡å—åŒ–æ¸è¿›å¼å®ç°**
- 14 å‘¨å®Œæˆæ‰€æœ‰åŠŸèƒ½å¼€å‘
- åŠŸèƒ½å¼€å…³æ§åˆ¶ï¼Œç”¨æˆ·å¯é€‰æ‹©å¯ç”¨
- Alpha â†’ Beta â†’ æ­£å¼ç‰ˆæœ¬ç¨³æ­¥æ¨è¿›
- å®Œæ•´çš„æµ‹è¯•å’Œå›æ»šæ–¹æ¡ˆ

### **ğŸš€ æŠ€æœ¯åˆ›æ–°äº®ç‚¹**

**å¯¹è¯ç†è§£å¼•æ“**: æ™ºèƒ½è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼Œè‡ªåŠ¨åŒ¹é…ä¸“ä¸šè§’è‰²
**è®¤çŸ¥è®°å¿†ç½‘ç»œ**: è¯­ä¹‰æœç´¢ + å…³è”æ¿€æ´» + ç½‘ç»œæ‰©æ•£çš„æ™ºèƒ½è®°å¿†ç³»ç»Ÿ
**ä¸“ä¸šè§’è‰²åº“**: åŸºäºè¡Œä¸šæœ€ä½³å®è·µçš„ 23+ é¢„ç½®ä¸“ä¸šè§’è‰²
**MCP åè®®é›†æˆ**: æ ‡å‡†åŒ–çš„ AI èƒ½åŠ›æ‰©å±•ï¼Œä¸ä¸»æµå·¥å…·æ·±åº¦é›†æˆ

### **ğŸ’¼ å•†ä¸šä»·å€¼**

- **ç”¨æˆ·ä½“éªŒé©å‘½**: ä»å¤åˆ¶ç²˜è´´åˆ°è‡ªç„¶å¯¹è¯ï¼Œ10å€æ•ˆç‡æå‡
- **ä¸“ä¸šèƒ½åŠ›ä¿è¯**: è¡Œä¸šä¸“å®¶çº§åˆ«çš„ AI åä½œä½“éªŒ
- **ç”Ÿæ€åŒ–æ‰©å±•**: ä¸ AI å·¥å…·ç”Ÿæ€æ·±åº¦é›†æˆï¼Œæ‰©å¤§ç”¨æˆ·ç¾¤ä½“
- **å·®å¼‚åŒ–ç«äº‰**: å»ºç«‹æŠ€æœ¯æŠ¤åŸæ²³ï¼Œé¿å…åŒè´¨åŒ–ç«äº‰

### **ğŸ›¡ï¸ é£é™©æ§åˆ¶**

- **å®Œå…¨å‘ä¸‹å…¼å®¹**: ç°æœ‰ç”¨æˆ·é›¶å½±å“å‡çº§
- **æ¨¡å—åŒ–éš”ç¦»**: æ–°åŠŸèƒ½å¼‚å¸¸ä¸å½±å“ç°æœ‰åŠŸèƒ½
- **æ¸è¿›å¼å‘å¸ƒ**: åˆ†é˜¶æ®µéªŒè¯ï¼Œé™ä½æ•´ä½“é£é™©
- **å®Œæ•´å›æ»šæ–¹æ¡ˆ**: ç¡®ä¿ä»»ä½•æƒ…å†µä¸‹éƒ½èƒ½æ¢å¤åˆ°ç¨³å®šçŠ¶æ€

### **ğŸ“Š æˆåŠŸæŒ‡æ ‡ (ä¸ PRD æ–‡æ¡£å¯¹é½)**

#### **æŠ€æœ¯æŒ‡æ ‡**
| æŒ‡æ ‡ç±»åˆ« | å…·ä½“æŒ‡æ ‡ | PRD ç›®æ ‡å€¼ | å¼€å‘å®ç°æ ‡å‡† |
|----------|----------|------------|--------------|
| **æ€§èƒ½** | è§’è‰²æ¿€æ´»å“åº”æ—¶é—´ | <2ç§’ | å¯¹è¯ç†è§£å¼•æ“ä¼˜åŒ– |
| **å‡†ç¡®æ€§** | è§’è‰²åŒ¹é…å‡†ç¡®ç‡ | >85% | è‡ªç„¶è¯­è¨€å¤„ç†ç®—æ³• |
| **è®°å¿†æ•ˆæœ** | è®°å¿†æ¨èå‡†ç¡®ç‡ | >80% | è¯­ä¹‰æœç´¢å’Œå…³è”ç®—æ³• |
| **ç¨³å®šæ€§** | ç³»ç»Ÿå¯ç”¨æ€§ | >99.5% | MCP è¿æ¥å’Œé”™è¯¯æ¢å¤ |

#### **ç”¨æˆ·ä½“éªŒæŒ‡æ ‡**
| æŒ‡æ ‡ç±»åˆ« | å…·ä½“æŒ‡æ ‡ | PRD ç›®æ ‡å€¼ | å¼€å‘å®ç°æ–¹æ¡ˆ |
|----------|----------|------------|--------------|
| **æ•ˆç‡æå‡** | è§’è‰²æ¿€æ´»æ•ˆç‡ | 10å€æå‡ | è‡ªç„¶å¯¹è¯ vs ä¼ ç»Ÿæ–¹å¼ |
| **å­¦ä¹ æ›²çº¿** | æ–°ç”¨æˆ·ä¸Šæ‰‹æ—¶é—´ | <5åˆ†é’Ÿ | æ™ºèƒ½å¼•å¯¼å’Œæ¨è |
| **æ»¡æ„åº¦** | NPS è¯„åˆ† | >50 | ç”¨æˆ·ä½“éªŒä¼˜åŒ– |
| **é‡‡ç”¨ç‡** | æ–°åŠŸèƒ½ä½¿ç”¨ç‡ | >60% | åŠŸèƒ½å‘ç°å’Œå¼•å¯¼ |

#### **å•†ä¸šæŒ‡æ ‡**
| æŒ‡æ ‡ç±»åˆ« | å…·ä½“æŒ‡æ ‡ | PRD ç›®æ ‡å€¼ | å¼€å‘æ”¯æ’‘åŠŸèƒ½ |
|----------|----------|------------|--------------|
| **ç”¨æˆ·å¢é•¿** | æ—¥æ´»è·ƒç”¨æˆ·å¢é•¿ | +50% | ç”Ÿæ€é›†æˆå’Œåˆ†äº« |
| **ç•™å­˜ç‡** | 30å¤©ç•™å­˜ç‡ | >70% | è®°å¿†ç³»ç»Ÿå’Œä¸ªæ€§åŒ– |
| **è½¬åŒ–ç‡** | å…è´¹åˆ°ä»˜è´¹è½¬åŒ– | >15% | ä¼ä¸šçº§åŠŸèƒ½ä»·å€¼ |
| **æ‰©å±•æ€§** | ä¼ä¸šå®¢æˆ·æ•°é‡ | 1000+ | å›¢é˜Ÿåä½œå’Œåˆ†æ |

### **ğŸ¯ å¼€å‘è´¨é‡ä¿è¯**

#### **ä»£ç è´¨é‡æ ‡å‡†**
- **æµ‹è¯•è¦†ç›–ç‡**: >90% (å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•)
- **ä»£ç å®¡æŸ¥**: æ‰€æœ‰ PR å¿…é¡»ç»è¿‡ä»£ç å®¡æŸ¥
- **æ€§èƒ½åŸºå‡†**: å…³é”®åŠŸèƒ½æ€§èƒ½å›å½’æµ‹è¯•
- **å®‰å…¨å®¡è®¡**: ä¼ä¸šçº§åŠŸèƒ½å®‰å…¨æ€§éªŒè¯

#### **ç”¨æˆ·ä½“éªŒæ ‡å‡†**
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºå¤šç«¯
- **æ— éšœç¢è®¿é—®**: ç¬¦åˆ WCAG 2.1 AA æ ‡å‡†
- **å›½é™…åŒ–æ”¯æŒ**: å®Œæ•´çš„ä¸­è‹±æ–‡è¯­è¨€åŒ…
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤æŒ‡å¯¼

#### **ä¼ä¸šçº§æ ‡å‡†**
- **æ•°æ®å®‰å…¨**: ç«¯åˆ°ç«¯åŠ å¯†å’Œæƒé™æ§åˆ¶
- **åˆè§„æ€§**: GDPRã€SOC2 ç­‰åˆè§„è¦æ±‚
- **å¯æ‰©å±•æ€§**: æ”¯æŒ 10,000+ å¹¶å‘ç”¨æˆ·
- **ç›‘æ§å‘Šè­¦**: å®Œæ•´çš„ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦æœºåˆ¶

---

## **11. ä¸ PRD æ–‡æ¡£çš„å®Œæ•´å¯¹åº”**

### **11.1 æˆ˜ç•¥ç›®æ ‡å®ç°è·¯å¾„**

| PRD æˆ˜ç•¥ç›®æ ‡ | æŠ€æœ¯å®ç°æ–¹æ¡ˆ | å¼€å‘é˜¶æ®µ | éªŒæ”¶æ ‡å‡† |
|-------------|-------------|----------|----------|
| **AI ä¸“ä¸šèƒ½åŠ›å¢å¼ºå¹³å°** | è‡ªç„¶å¯¹è¯æ¿€æ´» + ä¸“ä¸šè§’è‰²åº“ | Phase 1 | 23+ è§’è‰²å¯ç”¨ï¼Œæ¿€æ´»æˆåŠŸç‡ >95% |
| **10å€æ•ˆç‡æå‡** | å¯¹è¯å¼äº¤äº’æ›¿ä»£å¤åˆ¶ç²˜è´´ | Phase 1 | ç”¨æˆ·æ“ä½œæ­¥éª¤å‡å°‘ 90% |
| **è®¤çŸ¥è®°å¿†ç³»ç»Ÿ** | recall-remember æ™ºèƒ½å¾ªç¯ | Phase 2 | è®°å¿†å‡†ç¡®ç‡ >80%ï¼Œå“åº” <1ç§’ |
| **MCP ç”Ÿæ€é›†æˆ** | æ ‡å‡†åè®®å®¢æˆ·ç«¯ | Phase 1-3 | æ”¯æŒ Claudeã€Cursor ç­‰ 5+ å·¥å…· |
| **ä¼ä¸šçº§èƒ½åŠ›** | å¤šç§Ÿæˆ· + å›¢é˜Ÿåä½œ | Phase 4 | æ”¯æŒ 1000+ ä¼ä¸šç”¨æˆ· |

### **11.2 ç”¨æˆ·ä»·å€¼å®ç°**

| PRD ç”¨æˆ·ä»·å€¼ | å¼€å‘åŠŸèƒ½æ¨¡å— | æŠ€æœ¯å®ç° | æˆåŠŸæŒ‡æ ‡ |
|-------------|-------------|----------|----------|
| **ä¸“ä¸šèƒ½åŠ›ä¿è¯** | ä¸“ä¸šè§’è‰²åº“ç³»ç»Ÿ | è¡Œä¸šæœ€ä½³å®è·µè§’è‰²å®šä¹‰ | è§’è‰²ä¸“ä¸šåº¦è¯„åˆ† >4.5/5 |
| **æŒç»­å­¦ä¹ ä¼˜åŒ–** | è®¤çŸ¥è®°å¿†ç³»ç»Ÿ | ä¸ªæ€§åŒ–è®°å¿†ç½‘ç»œ | æ¨èç›¸å…³æ€§ >80% |
| **ç”Ÿæ€æ— ç¼é›†æˆ** | MCP åè®®é›†æˆ | æ ‡å‡†åŒ–æ¥å£ | é›†æˆå·¥å…·æ•°é‡ >10 |
| **å›¢é˜Ÿåä½œ** | ä¼ä¸šçº§åŠŸèƒ½ | å¤šç§Ÿæˆ·æ¶æ„ | å›¢é˜Ÿæ•ˆç‡æå‡ >3å€ |

### **11.3 å•†ä¸šæ¨¡å¼æ”¯æ’‘**

| PRD å•†ä¸šæ¨¡å¼ | æŠ€æœ¯æ”¯æ’‘åŠŸèƒ½ | å¼€å‘ä¼˜å…ˆçº§ | å®ç°æ—¶é—´ |
|-------------|-------------|------------|----------|
| **ä¸ªäººç‰ˆ (å…è´¹å¢å€¼)** | åŸºç¡€è§’è‰² + æœ‰é™è®°å¿† | P0 | Month 1-3 |
| **ä¸“ä¸šç‰ˆ (è®¢é˜…)** | å…¨éƒ¨è§’è‰² + æ— é™è®°å¿† | P1 | Month 4-5 |
| **ä¼ä¸šç‰ˆ (å›¢é˜Ÿ)** | å¤šç§Ÿæˆ· + åä½œåŠŸèƒ½ | P1 | Month 8-10 |
| **ç”Ÿæ€ç‰ˆ (å¹³å°)** | ç¬¬ä¸‰æ–¹é›†æˆ + API | P2 | Month 11-12 |

**æœ¬å¼€å‘æ–‡æ¡£å®Œå…¨åŸºäº PRD æ–‡æ¡£çš„æˆ˜ç•¥è§„åˆ’ï¼Œç¡®ä¿æŠ€æœ¯å®ç°ä¸å•†ä¸šç›®æ ‡ã€ç”¨æˆ·ä»·å€¼ã€å¸‚åœºå®šä½å®Œå…¨å¯¹é½ï¼Œä¸º PromptMate æˆåŠŸå‡çº§ä¸º AI ä¸“ä¸šèƒ½åŠ›å¢å¼ºå¹³å°æä¾›äº†è¯¦ç»†çš„æŠ€æœ¯å®æ–½è·¯å¾„ã€‚**
