# PromptMate 数据字典

本文档定义了PromptMate应用中使用的各种数据结构和字段。

## 1. 提示语数据模型 (Prompt)

提示语(Prompt)是应用的核心数据实体，用于存储用户自定义或预置的各类提示语。

### 1.1 提示语对象结构

```json
{
  "id": "string",          // 提示语唯一ID，使用UUID格式
  "title": "string",       // 提示语标题，简短描述提示语用途
  "content": "string",     // 提示语内容，可包含Markdown格式
  "category": "string",    // 分类，如"开发"、"写作"、"营销"等
  "tags": ["string"],      // 标签数组，用于更细粒度的分类
  "createdAt": "string",   // 创建时间，ISO格式
  "updatedAt": "string",   // 最后更新时间，ISO格式
  "isFavorite": boolean,   // 是否收藏
  "useCount": number       // 使用次数统计
}
```

### 1.2 提示语文件结构

提示语数据存储在本地JSON文件中，结构如下：

```json
{
  "prompts": [
    // 提示语对象数组
  ],
  "lastUpdated": "string"  // 最后更新时间
}
```

### 1.3 字段说明

| 字段名 | 数据类型 | 必填 | 说明 |
|-------|---------|-----|------|
| id | string | 是 | 唯一标识符，使用UUID格式。新建提示语时自动生成 |
| title | string | 是 | 提示语标题，最长50个字符 |
| content | string | 是 | 提示语主体内容，支持Markdown格式 |
| category | string | 是 | 提示语分类，默认分类包括"开发"、"写作"、"营销"、"工作"等 |
| tags | string[] | 否 | 标签数组，每个标签不超过20个字符 |
| createdAt | string | 是 | 创建时间，ISO日期格式 |
| updatedAt | string | 是 | 最后更新时间，ISO日期格式 |
| isFavorite | boolean | 否 | 是否被用户收藏，默认为false |
| useCount | number | 否 | 使用次数统计，默认为0 |

### 1.4 分类和标签

应用预设以下分类，用户也可以自定义分类：

- **开发**: 与编程和软件开发相关的提示语
- **写作**: 与文章写作、内容创作相关的提示语
- **营销**: 与市场营销、广告文案相关的提示语
- **工作**: 与工作沟通、会议、邮件相关的提示语
- **学习**: 与学习、研究相关的提示语
- **其他**: 不属于以上类别的提示语

标签由用户自由定义，用于更细粒度的提示语组织。

## 2. 设置数据模型 (Settings)

应用设置数据，包含UI主题、字体等用户偏好设置。

### 2.1 设置对象结构

```json
{
  "theme": "string",           // 主题名称
  "font": "string",            // 字体名称
  "fontSize": number,          // 字体大小
  "alwaysOnTop": boolean,      // 窗口是否置顶
  "globalShortcut": "string",  // 全局快捷键
  "autoStart": boolean,        // 开机自启动
  "autoBackup": {              // 自动备份设置
    "enabled": boolean,        // 是否启用
    "interval": number,        // 备份间隔(天)
    "path": "string"           // 备份保存路径
  }
}
```

### 2.2 字段说明

| 字段名 | 数据类型 | 默认值 | 说明 |
|-------|---------|-------|------|
| theme | string | "light" | 主题名称，可选值: "light", "dark", "system" |
| font | string | "system-ui" | 字体名称，可以是系统字体或自定义字体 |
| fontSize | number | 14 | 字体大小，单位为像素(px) |
| alwaysOnTop | boolean | false | 窗口是否置顶 |
| globalShortcut | string | "CommandOrControl+Alt+P" | 全局快捷键，使用Electron快捷键格式 |
| autoStart | boolean | false | 是否开机自启动 |
| autoBackup.enabled | boolean | false | 是否启用自动备份 |
| autoBackup.interval | number | 7 | 自动备份间隔，单位为天 |
| autoBackup.path | string | "" | 备份文件保存路径，为空时使用默认路径 |

### 2.3 主题定义

应用预设以下主题：

- **light**: 浅色主题，以白色为主要背景
- **dark**: 深色主题，以深色为主要背景
- **system**: 跟随系统主题设置

每个主题包括以下配色方案：

```json
{
  "background": "string",      // 背景色
  "foreground": "string",      // 前景色/文本色
  "primary": "string",         // 主色调
  "secondary": "string",       // 次要色调
  "accent": "string",          // 强调色
  "error": "string",           // 错误色
  "success": "string",         // 成功色
  "warning": "string",         // 警告色
  "info": "string"             // 提示色
}
```

## 3. 数据备份与恢复 (Backup)

### 3.1 备份文件结构

备份文件包含提示语和设置数据，采用JSON格式：

```json
{
  "version": "string",         // 备份文件版本
  "createdAt": "string",       // 备份创建时间
  "appVersion": "string",      // 应用版本
  "data": {
    "prompts": [
      // 提示语对象数组
    ],
    "settings": {
      // 设置对象
    }
  }
}
```

### 3.2 字段说明

| 字段名 | 数据类型 | 说明 |
|-------|---------|------|
| version | string | 备份文件版本号，采用语义化版本 |
| createdAt | string | 备份创建时间，ISO日期格式 |
| appVersion | string | 创建备份时的应用版本 |
| data.prompts | array | 提示语对象数组 |
| data.settings | object | 应用设置对象 |

## 4. 统计数据 (Statistics)

应用会收集一些使用统计数据，仅供本地分析使用，不会上传到服务器。

### 4.1 统计数据结构

```json
{
  "totalPrompts": number,         // 提示语总数
  "categoryCounts": {             // 各分类的提示语数量
    "category1": number,
    "category2": number
  },
  "mostUsedPrompts": [            // 最常用的提示语ID列表
    "string"
  ],
  "lastUsedPrompts": [            // 最近使用的提示语ID列表
    "string"
  ],
  "appOpenCount": number,         // 应用打开次数
  "totalPromptUsage": number      // 提示语总使用次数
}
```

### 4.2 字段说明

| 字段名 | 数据类型 | 说明 |
|-------|---------|------|
| totalPrompts | number | 提示语总数量 |
| categoryCounts | object | 各分类的提示语数量统计 |
| mostUsedPrompts | array | 按使用次数排序的提示语ID数组(最多10个) |
| lastUsedPrompts | array | 按最近使用时间排序的提示语ID数组(最多10个) |
| appOpenCount | number | 应用打开次数统计 |
| totalPromptUsage | number | 提示语使用总次数 |

## 5. 数据存储路径

应用数据存储在以下路径：

- **Windows**: `%APPDATA%\PromptMate\`
- **macOS**: `~/Library/Application Support/PromptMate/`
- **Linux**: `~/.config/PromptMate/`

主要数据文件包括：

- `prompts.json`: 提示语数据文件
- `settings.json`: 应用设置文件
- `statistics.json`: 使用统计数据文件
- `backups/`: 自动备份目录 