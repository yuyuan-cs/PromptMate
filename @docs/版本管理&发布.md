# 新功能：提示词内容支持Markdown语法

- 现在在新建、编辑、预览提示词内容时，支持Markdown语法实时预览和渲染，便于格式化内容和阅读。

1. 版本管理脚本
文件位置: scripts/version-manager.js
功能: 自动管理版本号、构建日期、CHANGELOG.md和Git标签
支持: 语义化版本控制（major/minor/patch）

2. 新增的npm脚本命令
版本更新命令

```
# 补丁版本更新 (1.0.3 -> 1.0.4)
npm run version:patch

# 次版本更新 (1.0.3 -> 1.1.0)
npm run version:minor

# 主版本更新 (1.0.3 -> 2.0.0)
npm run version:major
```

发布命令

```
# 补丁版本发布（自动更新版本 + 打包）
npm run release:patch

# 次版本发布
npm run release:minor

# 主版本发布
npm run release:major

# 发布Windows版本
npm run release:win

# 发布macOS版本
npm run release:mac

# 发布所有平台版本
npm run release:all
```

3. 自动执行的操作
版本号更新: 根据类型自动递增package.json中的版本号
构建日期更新: 设置当前时间作为构建日期
CHANGELOG.md更新: 在文件开头添加新版本条目
Git操作:
添加所有更改到暂存区
提交更改
创建版本标签
4. 版本类型说明
patch: 补丁版本，修复bug或小改动 (1.0.3 -> 1.0.4)
minor: 次版本，新功能但向后兼容 (1.0.3 -> 1.1.0)
major: 主版本，重大更改或破坏性更新 (1.0.3 -> 2.0.0)

## 最新修复记录

### 2024年字体设置Bug修复

**问题描述**: 设置字体大小以后，再设置主题或者字体样式以后，字体大小会恢复到默认大小，而且设置中字体大小的值不会改变。

**根本原因**: 
1. 主题切换时，`resetThemeVariables` 函数可能会清除字体相关的CSS变量
2. 主题应用函数 `applyThemeVariables` 没有排除字体相关的变量，可能会覆盖字体设置
3. Tailwind配置中的字体设置优先级高于自定义字体设置

**修复方案**:
1. 修改 `useSettings.tsx` 中的 `applyTheme` 函数，在主题应用完成后立即重新应用字体设置
2. 修改 `themes.ts` 中的主题应用函数，确保不覆盖字体相关的CSS变量（`--app-font` 和 `--app-font-size`）
3. 修改 `tailwind.config.ts`，使字体配置优先使用CSS变量 `var(--app-font)`
4. 在 `applyFont` 函数中使用 `!important` 确保字体设置的优先级

**修改的文件**:
- `src/hooks/useSettings.tsx`: 优化字体应用逻辑，确保主题切换后重新应用字体
- `src/lib/themes.ts`: 修改主题应用函数，排除字体相关变量
- `tailwind.config.ts`: 修改字体配置，优先使用CSS变量

**测试验证**: 设置字体大小后切换主题，字体大小设置应该保持不变。
